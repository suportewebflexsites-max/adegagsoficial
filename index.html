<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Adega GS Oficial</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{margin:0;font-family:Arial;background:#0f0f0f;color:#fff}
header{text-align:center;padding:20px;background:#000}
h1{color:#ffd700;margin:0}
p{color:#bbb;margin:5px 0}
.info{color:#25d366;font-weight:bold}

.section{padding:20px}
h2{border-bottom:2px solid #25d366;color:#ffd700;padding-bottom:5px}

.item{
display:flex;justify-content:space-between;align-items:center;
padding:10px 0;border-bottom:1px solid #333
}

button{
background:#25d366;border:none;padding:6px 12px;
border-radius:6px;font-weight:bold;cursor:pointer
}

.cart-btn{
position:fixed;bottom:20px;right:20px;
background:#25d366;color:#000;
width:55px;height:55px;
border-radius:50%;
display:flex;align-items:center;justify-content:center;
font-size:22px;cursor:pointer
}

.badge{
position:absolute;top:-5px;right:-5px;
background:red;color:#fff;
border-radius:50%;font-size:12px;padding:2px 6px
}

#cartBox{
display:none;position:fixed;top:0;left:0;
width:100%;height:100%;
background:#000;overflow:auto;padding:20px;z-index:9999
}

input,select,textarea{
width:100%;padding:10px;margin:6px 0;border-radius:6px;border:none
}

.total{font-size:16px;margin-top:10px;font-weight:bold}
.close{background:#444;margin-bottom:10px}
.freteBox{margin-top:10px;color:#25d366}
</style>
</head>

<body>

<header>
<h1>ğŸº Adega GS Oficial</h1>
<p>ConveniÃªncia â€¢ Delivery rÃ¡pido</p>
<p class="info">ğŸ•’ Aberto das 11:00 Ã s 04:00</p>
<p class="info">ğŸ“ Rua PlÃ¡cido Parreira Lima, 142</p>
</header>

<!-- PRODUTOS -->
<div class="section">
<h2>ğŸº Cervejas</h2>
<div class="item"><span>Skol 269ml</span><button onclick="add('Skol 269ml',4)">R$4,00</button></div>
<div class="item"><span>Original 269ml</span><button onclick="add('Original 269ml',4)">R$4,00</button></div>
<div class="item"><span>Heineken 269ml</span><button onclick="add('Heineken 269ml',5.2)">R$5,20</button></div>
<div class="item"><span>Amstel 269ml</span><button onclick="add('Amstel 269ml',9)">R$9,00</button></div>
</div>

<div class="section">
<h2>ğŸŸ PorÃ§Ãµes</h2>
<div class="item"><span>PorÃ§Ã£o de Calabresa</span><button onclick="add('PorÃ§Ã£o de Calabresa',25)">R$25,00</button></div>
<div class="item"><span>Batata Frita</span><button onclick="add('Batata Frita',22)">R$22,00</button></div>
</div>

<div class="section">
<h2>ğŸ¥Ÿ Pastel</h2>
<div class="item"><span>Pastel de Carne</span><button onclick="add('Pastel de Carne',8)">R$8,00</button></div>
<div class="item"><span>Pastel de Pizza</span><button onclick="add('Pastel de Pizza',8)">R$8,00</button></div>
<div class="item"><span>Pastel Frango c/ Catupiry</span><button onclick="add('Pastel Frango com Catupiry',9)">R$9,00</button></div>
</div>

<div class="section">
<h2>ğŸ« Chocolates</h2>
<div class="item"><span>Bis</span><button onclick="add('Bis',4.5)">R$4,50</button></div>
</div>

<div class="section">
<h2>ğŸ¥¨ Salgadinhos</h2>
<div class="item"><span>Torcidas Carne</span><button onclick="add('Torcidas Carne',4)">R$4,00</button></div>
<div class="item"><span>Torcidas Churrasco</span><button onclick="add('Torcidas Churrasco',4)">R$4,00</button></div>
<div class="item"><span>Torcidas Bacon</span><button onclick="add('Torcidas Bacon',4)">R$4,00</button></div>
<div class="item"><span>Torcidas Vinagrete</span><button onclick="add('Torcidas Vinagrete',4)">R$4,00</button></div>
</div>

<!-- BOTÃƒO CARRINHO -->
<div class="cart-btn" onclick="openCart()">ğŸ›’<span class="badge" id="qtd">0</span></div>

<!-- CARRINHO -->
<div id="cartBox">
<button class="close" onclick="closeCart()">â¬… Voltar</button>

<h2>ğŸ›’ Carrinho</h2>
<div id="lista"></div>
<div class="total" id="total"></div>
<div class="freteBox" id="freteBox"></div>

<h2>ğŸ“‹ Dados do Cliente</h2>
<input id="nome" placeholder="Nome *">
<input id="cep" placeholder="CEP *" onblur="buscarCEP()">
<input id="endereco" placeholder="EndereÃ§o *">
<input id="cupom" placeholder="Cupom (opcional)">

<select id="pagamento">
<option value="">Forma de pagamento *</option>
<option>Pix</option>
<option>CrÃ©dito</option>
<option>DÃ©bito</option>
</select>

<textarea id="obs" placeholder="ObservaÃ§Ãµes (opcional)"></textarea>

<button onclick="finalizar()">FINALIZAR NO WHATSAPP</button>
</div>

<script>
let cart=[],frete=null,distancia=null,desconto=0;

function add(nome,preco){
cart.push({nome,preco});
qtd.innerText=cart.length;
}

function openCart(){cartBox.style.display="block";render();}
function closeCart(){cartBox.style.display="none";}

async function buscarCEP(){
let c=cep.value.replace(/\D/g,'');
if(c.length!==8)return;

const r = await fetch(`https://viacep.com.br/ws/${c}/json/`);
const d = await r.json();
if(d.erro){alert("CEP invÃ¡lido");return;}

endereco.value = `${d.logradouro}, ${d.bairro} - ${d.localidade}/${d.uf}`;
calcularFrete(c);
}

function calcularFrete(c){
distancia=(parseInt(c.slice(-3))%15)+1;
if(distancia<=3)frete=5;
else if(distancia<=6)frete=8;
else if(distancia<=10)frete=10;
else frete=15;
render();
}

function render(){
let subtotal=0;
lista.innerHTML="";
cart.forEach(i=>{
lista.innerHTML+=`<p>â€¢ ${i.nome} - R$ ${i.preco.toFixed(2)}</p>`;
subtotal+=i.preco;
});

desconto = (cupom.value==="OFF10") ? 10 : 0;
if(subtotal>=120)frete=0;

let total=subtotal+(frete||0)-desconto;

totalEl=`Subtotal: R$ ${subtotal.toFixed(2)} | Desconto: R$ ${desconto.toFixed(2)} | Total: R$ ${total.toFixed(2)}`;
total.innerText=totalEl;

freteBox.innerText = frete===null
? "ğŸšš Frete serÃ¡ calculado apÃ³s informar o CEP"
: `ğŸšš Frete: ${frete===0?'GRÃTIS':'R$ '+frete} (${distancia} km)`;
}

function finalizar(){
if(!nome.value||!cep.value||!endereco.value||!pagamento.value){
alert("Preencha todos os campos obrigatÃ³rios");
return;
}
if(frete===null){
alert("Informe o CEP para calcular o frete");
return;
}

let msg=`ğŸ›’ *PEDIDO â€“ ADEGA GS OFICIAL*%0A%0A`;
cart.forEach(i=>msg+=`â€¢ ${i.nome}%0A`);
msg+=
`%0AğŸ“ ${endereco.value}%0A`+
`ğŸšš Frete: ${frete===0?'GRÃTIS':'R$ '+frete}%0A`+
`ğŸ’° Total: R$ ${(cart.reduce((s,i)=>s+i.preco,0)+(frete||0)-desconto).toFixed(2)}%0A`+
`ğŸ’³ ${pagamento.value}%0A`+
`ğŸ‘¤ ${nome.value}%0A`+
`ğŸ“ ${obs.value||'-'}`;

window.open("https://wa.me/5511981654980?text="+msg);
}
</script>

</body>
</html>
